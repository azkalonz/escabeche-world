/*
 *  Document   : main.js
 *  Author     : pixelcave
 */
var webApp=function(){var e=$("body"),a=$("header"),t=$("#sidebar-left-toggle"),i=$("#sidebar-right-toggle"),s=$(".sidebar-left-scroll"),l=$(".sidebar-right-scroll"),n=$(window).height()-51,o=function(){var e=$("#year-copy"),t=new Date;e.html(2013===t.getFullYear()?"2013":"2013-"+t.getFullYear().toString().substr(2,2)),$(window).scroll(function(){$(this).scrollTop()>60?a.addClass("add-opacity"):a.removeClass("add-opacity")}),$('[data-toggle="tabs"] a, .enable-tabs a').click(function(e){e.preventDefault(),$(this).tab("show")}),$('[data-toggle="tooltip"], .enable-tooltip').tooltip({container:"body",animation:!1}),$('[data-toggle="popover"], .enable-popover').popover({container:"body",animation:!1}),$('[data-toggle="lightbox-image"]').magnificPopup({type:"image",image:{titleSrc:"title"}}),$('[data-toggle="lightbox-gallery"]').magnificPopup({delegate:"a.gallery-link",type:"image",gallery:{enabled:!0,navigateByImgClick:!0,arrowMarkup:'<button type="button" class="mfp-arrow mfp-arrow-%dir%" title="%title%"></button>',tPrev:"Previous",tNext:"Next",tCounter:'<span class="mfp-counter">%curr% of %total%</span>'},image:{titleSrc:"title"}}),$("textarea.textarea-elastic").elastic(),$(".textarea-editor").wysihtml5(),$(".select-chosen").chosen(),$(".input-tags").tagsInput({width:"auto",height:"auto"}),$(".input-slider").slider(),$(".input-datepicker, .input-daterange").datepicker(),$(".input-datepicker-close").datepicker().on("changeDate",function(){$(this).datepicker("hide")}),$(".input-timepicker").timepicker({minuteStep:1,showSeconds:!0,showMeridian:!0}),$(".input-timepicker24").timepicker({minuteStep:1,showSeconds:!0,showMeridian:!1}),$(".pie-chart").easyPieChart({barColor:"#f39c12",trackColor:"#eeeeee",scaleColor:!1,lineWidth:3,size:$(this).data("size"),animate:1200}),$("input, textarea").placeholder()},r=function(){var e=250,a=300,t=$(".sidebar-nav a"),i=$(".menu-link"),s=$(".submenu-link");i.each(function(e,a){$(a).append("<span>"+$(a).next("ul").find("a").not(".submenu-link").length+"</span>")}),s.each(function(e,a){$(a).append("<span>"+$(a).next("ul").children().length+"</span>")}),t.mouseenter(function(){$("i",this).addClass("animation-bigEntrance")}).mouseleave(function(){$("i",this).removeClass("animation-bigEntrance")}),i.click(function(){var t=$(this);return t.parent().hasClass("active")!==!0&&(t.hasClass("open")?t.removeClass("open").next().slideUp(e):($(".menu-link.open").removeClass("open").next().slideUp(e),t.addClass("open").next().slideDown(a))),!1}),s.click(function(){var t=$(this);return t.parent().hasClass("active")!==!0&&(t.hasClass("open")?t.removeClass("open").next().slideUp(e):(t.closest("ul").find(".submenu-link.open").removeClass("open").next().slideUp(e),t.addClass("open").next().slideDown(a))),!1})},d=function(a){"init"===a?(s.add(l).slimScroll({height:n,color:"#fff",size:"3px",touchScrollStep:100}),$(window).resize(function(){d("resize-scroll")}),$(window).bind("orientationchange",d("resize-scroll")),t.click(function(){d("toggle-left")}),$("#sidebar-left").mouseenter(function(){d("open-left")}).mouseleave(function(){d("close-left")}),i.click(function(){d("toggle-right")}),$("#sidebar-right").mouseenter(function(){d("open-right")}).mouseleave(function(){d("close-right")}),$(".sidebars-swipe").swipe({swipeRight:function(){d(e.hasClass("sidebar-right-open")?"close-right":"open-left")},swipeLeft:function(){d(e.hasClass("sidebar-left-open")?"close-left":"open-right")}})):"resize-scroll"===a?s.add(l).css("height",$(window).height()-51):"open-left"===a?(e.removeClass("sidebar-right-open").addClass("sidebar-left-open"),t.parent("li").addClass("active"),i.parent("li").removeClass("active"),i.blur()):"close-left"===a?(e.removeClass("sidebar-left-open"),t.parent("li").removeClass("active"),t.blur()):"toggle-left"===a?(e.removeClass("sidebar-right-open").toggleClass("sidebar-left-open"),t.parent("li").toggleClass("active"),t.hasClass("active")||t.blur(),i.parent("li").removeClass("active"),i.blur()):"open-right"===a?(e.removeClass("sidebar-left-open").addClass("sidebar-right-open"),i.parent("li").addClass("active"),t.parent("li").removeClass("active"),t.blur()):"close-right"===a?(e.removeClass("sidebar-right-open"),i.parent("li").removeClass("active"),i.blur()):"toggle-right"===a&&(e.removeClass("sidebar-left-open").toggleClass("sidebar-right-open"),i.parent("li").toggleClass("active"),i.hasClass("active")||i.blur(),t.parent("li").removeClass("active"),t.blur())},c=function(){var e=$("#to-top");$(window).scroll(function(){$(this).scrollTop()>150?e.fadeIn(100):e.fadeOut(100)}),e.click(function(){return $("html, body").animate({scrollTop:0},200),!1})},p=function(){var t,i=$(".theme-colors"),s=$("#theme-link");s.length&&(t=s.attr("href"),$("li",i).removeClass("active"),$('a[data-theme="'+t+'"]',i).parent("li").addClass("active")),$("a",i).click(function(){t=$(this).data("theme"),$("li",i).removeClass("active"),$(this).parent("li").addClass("active"),"default"===t?s.length&&(s.remove(),s=$("#theme-link")):s.length?s.attr("href",t):($('link[href="css/themes.css"]').before('<link id="theme-link" rel="stylesheet" href="'+t+'">'),s=$("#theme-link"))}),$(".dropdown-custom a").click(function(e){e.stopPropagation()});var l=$("#page-container"),n=$("#options-fw-disable"),o=$("#options-fw-enable");l.hasClass("full-width")?o.addClass("active"):n.addClass("active"),n.click(function(){l.removeClass("full-width"),$(this).addClass("active"),o.removeClass("active")}),o.click(function(){l.addClass("full-width"),$(this).addClass("active"),n.removeClass("active")});var r=$("#options-pin-left"),d=$("#options-pin-right");e.hasClass("sidebar-left-pinned")&&r.addClass("active"),e.hasClass("sidebar-right-pinned")&&d.addClass("active"),r.click(function(){$(this).hasClass("active")?(e.removeClass("sidebar-left-pinned"),$(this).removeClass("active")):(e.addClass("sidebar-left-pinned"),$(this).addClass("active"))}),d.click(function(){$(this).hasClass("active")?(e.removeClass("sidebar-right-pinned"),$(this).removeClass("active")):(e.addClass("sidebar-right-pinned"),$(this).addClass("active"))});var c=$("#options-header-default"),p=$("#options-header-inverse"),h=$("#options-header-top"),v=$("#options-header-bottom");a.hasClass("navbar-default")?c.addClass("active"):p.addClass("active"),a.hasClass("navbar-fixed-top")?h.addClass("active"):v.addClass("active"),c.click(function(){a.removeClass("navbar-inverse").addClass("navbar-default"),$(this).addClass("active"),p.removeClass("active")}),p.click(function(){a.removeClass("navbar-default").addClass("navbar-inverse"),$(this).addClass("active"),c.removeClass("active")}),h.click(function(){e.removeClass("header-fixed-bottom").addClass("header-fixed-top"),a.removeClass("navbar-fixed-bottom").addClass("navbar-fixed-top"),$(this).addClass("active"),v.removeClass("active")}),v.click(function(){e.removeClass("header-fixed-top").addClass("header-fixed-bottom"),a.removeClass("navbar-fixed-top").addClass("navbar-fixed-bottom"),$(this).addClass("active"),h.removeClass("active")});var f=$("#sidebar-left"),g=$("#sidebar-right"),u=$("#options-hover-left"),C=$("#options-hover-right");f.hasClass("enable-hover")&&u.addClass("active"),g.hasClass("enable-hover")&&C.addClass("active"),u.click(function(){f.toggleClass("enable-hover"),$(this).toggleClass("active")}),C.click(function(){g.toggleClass("enable-hover"),$(this).toggleClass("active")});var b=$("#fx-container"),m=$("#option-effects");$("button[data-fx='"+b.attr("class")+"']",m).addClass("active"),$("button",m).click(function(){b.removeClass().addClass($(this).data("fx")),$("button",m).removeClass("active"),$(this).addClass("active")})},h=function(){$.extend(!0,$.fn.dataTable.defaults,{sDom:"<'row'<'col-sm-6 col-xs-5'l><'col-sm-6 col-xs-7'f>r>t<'row'<'col-sm-5 hidden-xs'i><'col-sm-7 col-xs-12 clearfix'p>>",sPaginationType:"bootstrap",oLanguage:{sLengthMenu:"_MENU_",sSearch:'<div class="input-group">_INPUT_<span class="input-group-addon"><i class="fa fa-search"></i></span></div>',sInfo:"<strong>_START_</strong>-<strong>_END_</strong> of <strong>_TOTAL_</strong>",oPaginate:{sPrevious:"",sNext:""}}}),$.extend($.fn.dataTableExt.oStdClasses,{sWrapper:"dataTables_wrapper form-inline"}),$.fn.dataTableExt.oApi.fnPagingInfo=function(e){return{iStart:e._iDisplayStart,iEnd:e.fnDisplayEnd(),iLength:e._iDisplayLength,iTotal:e.fnRecordsTotal(),iFilteredTotal:e.fnRecordsDisplay(),iPage:Math.ceil(e._iDisplayStart/e._iDisplayLength),iTotalPages:Math.ceil(e.fnRecordsDisplay()/e._iDisplayLength)}},$.extend($.fn.dataTableExt.oPagination,{bootstrap:{fnInit:function(e,a,t){var i=e.oLanguage.oPaginate,s=function(a){a.preventDefault(),e.oApi._fnPageChange(e,a.data.action)&&t(e)};$(a).append('<ul class="pagination pagination-sm remove-margin"><li class="prev disabled"><a href="javascript:void(0)"><i class="fa fa-chevron-left"></i> '+i.sPrevious+'</a></li><li class="next disabled"><a href="javascript:void(0)">'+i.sNext+' <i class="fa fa-chevron-right"></i></a></li></ul>');var l=$("a",a);$(l[0]).bind("click.DT",{action:"previous"},s),$(l[1]).bind("click.DT",{action:"next"},s)},fnUpdate:function(e,a){var t,i,s,l,n,o=5,r=e.oInstance.fnPagingInfo(),d=e.aanFeatures.p,c=Math.floor(o/2);for(r.iTotalPages<o?(l=1,n=r.iTotalPages):r.iPage<=c?(l=1,n=o):r.iPage>=r.iTotalPages-c?(l=r.iTotalPages-o+1,n=r.iTotalPages):(l=r.iPage-c+1,n=l+o-1),t=0,iLen=d.length;iLen>t;t++){for($("li:gt(0)",d[t]).filter(":not(:last)").remove(),i=l;n>=i;i++)s=i===r.iPage+1?'class="active"':"",$("<li "+s+'><a href="javascript:void(0)">'+i+"</a></li>").insertBefore($("li:last",d[t])[0]).bind("click",function(t){t.preventDefault(),e._iDisplayStart=(parseInt($("a",this).text(),10)-1)*r.iLength,a(e)});0===r.iPage?$("li:first",d[t]).addClass("disabled"):$("li:first",d[t]).removeClass("disabled"),r.iPage===r.iTotalPages-1||0===r.iTotalPages?$("li:last",d[t]).addClass("disabled"):$("li:last",d[t]).removeClass("disabled")}}}})};return{init:function(){o(),d("init"),r(),c(),p()},sidebars:function(e){d(e)},datatables:function(){h()}}}();$(function(){webApp.init()});